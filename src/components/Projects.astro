---
const projects = [
  {
    title: "RestCabaña - Sistema de Gestión de Restaurante",
    description: "Aplicación full-stack para gestión de restaurante con app móvil multiplataforma. Sistema completo de pedidos en tiempo real, pagos y administración.",
    image: "/logo.png",
    tech: ["NestJS", "React Native", "TypeScript", "MySQL", "Prisma", "Firebase", "WebSockets", "Docker"],
    features: ["API REST modular", "Auth dual (Firebase + JWT)", "Pagos con Culqi", "App móvil con Expo", "Dashboard administrativo"],
    highlight: true
  },
  {
    title: "Sistema de Cuadres Financieros",
    description: "Sistema que automatiza el procesamiento de reportes financieros, reduciendo el tiempo de 7 días a 2 días mediante scripts de Python.",
    image: "/logo.png",
    tech: ["PHP", "Python", "MySQL", "JWT", "Tailwind"],
    features: ["Automatización de datos Excel", "Dashboards interactivos", "Sistema de impersonation"],
    highlight: false
  },
  {
    title: "Sistema de Distribución e Inventario",
    description: "Aplicación web para distribuidora de consumo masivo con gestión de inventario y múltiples líneas de productos.",
    image: "/logo.png",
    tech: ["React", "Node.js", "MySQL"],
    features: ["Control de stock", "Gestión de ventas", "Reportes automatizados"],
    highlight: false
  }
];
---

<section class="projects section" id="projects">
  <div class="container">
    <div class="section-header reveal">
      <p class="section-subtitle">Mi Trabajo</p>
      <h2 class="section-title">Proyectos <span class="gradient-text">Destacados</span></h2>
    </div>
    
    <div class="projects-grid stagger-children">
      {projects.map((project) => (
        <div class={`project-card ${project.highlight ? 'featured' : ''}`}>
          <div class="project-image">
            <img src={project.image} alt={project.title} loading="lazy" />
            <div class="image-overlay"></div>
          </div>
          <div class="project-content">
            {project.highlight && <span class="featured-badge">⭐ Proyecto Principal</span>}
            <h3 class="project-title">{project.title}</h3>
            <p class="project-description">{project.description}</p>
            <div class="project-tech">
              {project.tech.map((t) => <span class="tech-tag">{t}</span>)}
            </div>
            <ul class="project-features">
              {project.features.map((f) => <li>{f}</li>)}
            </ul>
          </div>
        </div>
      ))}
    </div>
  </div>
</section>

<style>
  .projects { background: var(--color-dark); }
  .projects-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); gap: 2rem; }
  .project-card { background: var(--color-dark-soft); border-radius: var(--radius-xl); overflow: hidden; border: 1px solid var(--color-dark-muted); transition: all var(--transition-base); display: flex; flex-direction: column; }
  .project-card:hover { transform: translateY(-10px); border-color: var(--color-primary); box-shadow: var(--shadow-glow); }
  .project-card.featured { grid-column: span 2; }
  .project-card.featured .project-content { padding: 2rem; }
  .project-image { position: relative; height: 200px; overflow: hidden; }
  .project-card.featured .project-image { height: 280px; }
  .project-image img { width: 100%; height: 100%; object-fit: cover; transition: transform var(--transition-slow); }
  .project-card:hover .project-image img { transform: scale(1.1); }
  .image-overlay { position: absolute; inset: 0; background: linear-gradient(180deg, transparent 0%, var(--color-dark-soft) 100%); opacity: 0.8; }
  .project-content { padding: 1.5rem; flex: 1; display: flex; flex-direction: column; }
  .featured-badge { display: inline-block; background: var(--gradient-primary); color: white; padding: 0.25rem 0.75rem; border-radius: var(--radius-full); font-size: 0.75rem; font-weight: 600; margin-bottom: 0.75rem; width: fit-content; }
  .project-title { font-size: 1.25rem; color: var(--color-light); margin-bottom: 0.75rem; }
  .project-description { color: var(--color-text-muted); font-size: 0.95rem; margin-bottom: 1rem; line-height: 1.6; }
  .project-tech { display: flex; flex-wrap: wrap; gap: 0.5rem; margin-bottom: 1rem; }
  .tech-tag { padding: 0.25rem 0.625rem; background: rgba(139, 92, 246, 0.15); color: var(--color-accent-light); border-radius: var(--radius-sm); font-size: 0.75rem; font-weight: 500; }
  .project-features { padding-left: 1.25rem; margin-top: auto; }
  .project-features li { color: var(--color-text-muted); font-size: 0.85rem; margin-bottom: 0.375rem; }
  .project-features li::marker { color: var(--color-primary); }
  @media (max-width: 900px) { .project-card.featured { grid-column: span 1; } .projects-grid { grid-template-columns: 1fr; } }
</style>
