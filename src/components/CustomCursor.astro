---
// Custom Cursor Component - Interactive circular cursor
---

<div class="cursor" id="cursor"></div>
<div class="cursor-follower" id="cursor-follower"></div>

<style>
  .cursor,
  .cursor-follower {
    position: fixed;
    pointer-events: none;
    z-index: 9997;
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: opacity 0.3s ease;
  }
  
  .cursor {
    width: 8px;
    height: 8px;
    background: var(--color-primary);
    mix-blend-mode: difference;
  }
  
  .cursor-follower {
    width: 40px;
    height: 40px;
    border: 1px solid var(--color-primary);
    transition: transform 0.15s ease, width 0.3s ease, height 0.3s ease, background 0.3s ease;
  }
  
  .cursor-follower.hover {
    width: 60px;
    height: 60px;
    background: rgba(13, 148, 136, 0.1);
    border-color: var(--color-primary);
  }
  
  .cursor-follower.click {
    transform: translate(-50%, -50%) scale(0.8);
  }
  
  /* Hide on touch devices */
  @media (hover: none) and (pointer: coarse) {
    .cursor,
    .cursor-follower {
      display: none;
    }
  }
  
  /* Hide default cursor on desktop */
  @media (hover: hover) {
    body {
      cursor: none;
    }
    
    a, button, [role="button"], input, textarea, select {
      cursor: none;
    }
  }
</style>

<script>
  const cursor = document.getElementById('cursor');
  const follower = document.getElementById('cursor-follower');
  
  // Check if touch device
  const isTouchDevice = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
  
  if (!isTouchDevice && cursor && follower) {
    let mouseX = 0, mouseY = 0;
    let followerX = 0, followerY = 0;
    
    // Update cursor position
    document.addEventListener('mousemove', (e) => {
      mouseX = e.clientX;
      mouseY = e.clientY;
      
      cursor.style.left = mouseX + 'px';
      cursor.style.top = mouseY + 'px';
    });
    
    // Smooth follower animation
    function animateFollower() {
      followerX += (mouseX - followerX) * 0.15;
      followerY += (mouseY - followerY) * 0.15;
      
      follower.style.left = followerX + 'px';
      follower.style.top = followerY + 'px';
      
      requestAnimationFrame(animateFollower);
    }
    animateFollower();
    
    // Hover effect on interactive elements
    const interactiveElements = document.querySelectorAll('a, button, [role="button"], input, textarea, .project-card, .mini-card, .social-link');
    
    interactiveElements.forEach(el => {
      el.addEventListener('mouseenter', () => follower.classList.add('hover'));
      el.addEventListener('mouseleave', () => follower.classList.remove('hover'));
    });
    
    // Click effect
    document.addEventListener('mousedown', () => follower.classList.add('click'));
    document.addEventListener('mouseup', () => follower.classList.remove('click'));
    
    // Hide when leaving window
    document.addEventListener('mouseleave', () => {
      cursor.style.opacity = '0';
      follower.style.opacity = '0';
    });
    
    document.addEventListener('mouseenter', () => {
      cursor.style.opacity = '1';
      follower.style.opacity = '1';
    });
  }
</script>
